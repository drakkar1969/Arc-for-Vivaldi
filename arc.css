/***********************************************************************
	COLOR VARIABLES
***********************************************************************/
body {
	--clrArcWindowLight: #e7e8eb;
	--clrArcWindowDark: #2f343f;
	--clrArcBorderLight: #d4d5db;
	--clrArcBorderDark: #262a33;
	--clrArcHeaderTextLight: #525d76cc;
	--clrArcHeaderTextDark: #cfdae3cc;
	--clrArcSidebar: #353945;
	--clrArcSidebarBorder: #2a2d37;
	--clrArcSidebarText: #d3dae3;
	--clrArcSidebarTextActive: #ffffff;
	--clrArcSidebarHover: rgba(186, 195, 207, 0.15); /* #bac3cf */

	/* Additional variables for Darker theme */
	--clrArcBgLight: #dddee1;
	--clrArcBodyAlphaDark: #383c4acc;
	--clrArcTextFadedLight: #8c8c8e;
	--clrArcTextDark: #d3dae3;
	--clrArcEmphasisTextLight: #000000;
	--clrArcUrlTextDark: #a7adb6;
	--clrArcUrlDomainTextDark: #f9ffff;
	--clrArcInputBg: #404552;
	--clrArcInputBorder: #2b2e39;
	--clrArcAddressProgressBg: #242836;
}

/***********************************************************************
	TAB CONTAINER
***********************************************************************/
/* Background */
#tabs-tabbar-container,
#tabs-container {
	background-color: var(--clrArcWindowLight);
}

.theme-dark #tabs-tabbar-container,
.theme-dark #tabs-container {
	background-color: var(--clrArcWindowDark);
}

.theme-light.acc-dark #tabs-tabbar-container.top,
.theme-light.acc-dark #tabs-container.top {
	background-color: var(--clrArcWindowDark);
}

/* Border */
#tabs-tabbar-container.top {
	border-bottom: 1px solid var(--clrArcBorderLight) !important;
}

.theme-dark #tabs-tabbar-container.top,
.theme-light.acc-dark #tabs-tabbar-container.top {
	border-bottom: 1px solid var(--clrArcBorderDark) !important;
}

#tabs-tabbar-container.bottom {
	border-top: 1px solid var(--clrArcBorderLight) !important;
}

.theme-dark #tabs-tabbar-container.bottom {
	border-top: 1px solid var(--clrArcBorderDark) !important;
}

/* Darker theme: dark text/icon color when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom {
	color: var(--clrArcEmphasisTextLight);
	fill: var(--clrArcEmphasisTextLight);
}

/***********************************************************************
	TABS
***********************************************************************/
/* Tab title font + right fade */
.tab-position .tab .title {
	font-size: 13px;
	-webkit-mask-image: -webkit-linear-gradient(180deg, transparent 0px, transparent 6px, #fff 10px);
	margin-right: 0px;
}

/* Border around hover/active tab */
#tabs-container .tab-position .tab {
	border: 1px solid transparent;
}

#tabs-container .tab-position .tab:hover,
#tabs-container .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderLight);
}

.theme-dark #tabs-container .tab-position .tab:hover,
.theme-dark #tabs-container .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderDark);
}

.theme-light.acc-dark #tabs-container.top .tab-position .tab:hover,
.theme-light.acc-dark #tabs-container.top .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderDark);
}

/* Ensure active tab is on top of tab strip border */
#tabs-container.top .tab-position .tab.active {
	border-bottom-color: var(--colorBg) !important;
}

#tabs-container.bottom .tab-position .tab.active {
	border-top-color: var(--colorBg) !important;
}

#tabs-container.top .tab-position .tab {
	margin-bottom: -1px;
}

#tabs-container.bottom .tab-position .tab {
	margin-top: -1px;
}

/* Darker theme: tab hover text color when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom .tab-position .tab:hover:not(.active) {
	color: var(--clrArcEmphasisTextLight);
}

/* Darker theme: tab progress indicator when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom .tab-position .tab .progress-indicator {
	background-color: var(--clrArcTextFadedLight);
}

/* Dark/Darker theme: inactive tab hover color */
.theme-dark #tabs-container.top .tab-position .tab:hover:not(.active),
.theme-dark #tabs-container.bottom .tab-position .tab:hover:not(.active) {
	background-color: var(--colorBgAlpha);
}

.theme-light.acc-dark #tabs-container.top .tab-position .tab:hover:not(.active) {
	background-color: var(--clrArcBodyAlphaDark);
}

/***********************************************************************
	ADDRESSBAR
***********************************************************************/
/* Merge addressbar on top with header if tabs are not on top */
#browser.address-top:not(.tabs-top) #main {
	margin-top: -25px;
}

#browser.address-top:not(.tabs-top) #titlebar {
	z-index: 1;
}

#browser.address-top:not(.tabs-top) .toolbar-mainbar.UrlBar {
	padding: 0 90px 0 40px;
}

#browser.alt.address-top:not(.tabs-top) .toolbar-mainbar.UrlBar {
	padding: 0 40px 0 90px;
}

#browser.address-top:not(.tabs-top) #titlebar #pagetitle {
	display: none;
}

/* Background: addressbar on top same color as header if tabs are not on top */
#browser.address-top:not(.tabs-top) .toolbar-mainbar {
	background: var(--clrArcWindowLight);
}

#browser.theme-dark.address-top:not(.tabs-top) .toolbar-mainbar,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar {
	background: var(--clrArcWindowDark);
}

/* Background: addressbar on bottom if tabs are not on bottom */
#browser.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	background-color: var(--clrArcWindowLight);
}

#browser.theme-dark.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	background-color: var(--clrArcWindowDark);
}

/* Border (addressbar on top) */
#browser.address-top .toolbar-mainbar:after {
	background-color: var(--clrArcBorderLight);
}

#browser.theme-dark.address-top .toolbar-mainbar:after {
	background-color: var(--clrArcBorderDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar:after {
	background-color: var(--clrArcBorderDark);
}

/* Border (addressbar on bottom) */
#browser.address-bottom .toolbar-mainbar {
	box-shadow: none;
}

#browser.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	box-shadow: none;
	border-top: 1px solid var(--clrArcBorderLight);
}

#browser.theme-dark.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	border-top: 1px solid var(--clrArcBorderDark);
}

#browser.address-bottom.tabs-bottom .toolbar-mainbar.UrlBar {
	box-shadow: none;
	border-top: 1px solid var(--clrArcBorderLight);
}

#browser.theme-dark.address-bottom.tabs-bottom .toolbar-mainbar.UrlBar {
	border-top: 1px solid var(--clrArcBorderDark);
}

/* Darker theme: light text/icons when addressbar is merged with header */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar {
	color: var(--clrArcTextDark);
	fill: var(--clrArcTextDark);
}

/***********************************************************************
	ADDRESSFIELD
***********************************************************************/
/* Dark/Darker themes: Addressfield input box */
#browser.theme-dark .UrlBar-AddressField,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField {
	background-color: var(--clrArcInputBg);
	border-color: var(--clrArcInputBorder);
}

#browser.theme-dark .UrlBar-AddressField:focus-within,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField:focus-within {
	border-color: var(--colorHighlightBg);
}

/* Darker theme: Addressfield/URL text colors when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField {
	color: var(--clrArcTextDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlFragment-Wrapper--ShouldHighlight {
	--HighlightColor: var(--clrArcUrlDomainTextDark);
	--LowlightColor: var(--clrArcUrlTextDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlFragment-Wrapper:not(.UrlFragment-Wrapper--ShouldHighlight) {
	--HighlightColor: var(--clrArcUrlDomainTextDark);
	--LowlightColor: var(--clrArcUrlDomainTextDark);
}

/* Darker theme: Pageload progressbar color */
#browser.theme-light.acc-dark .UrlBar-AddressField .pageload .pageload-indicator {
	background-color: var(--clrArcBgLight);
}

/* Darker theme: Pageload progressbar color when addressbaris on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload .pageload-indicator {
	background-color: var(--clrArcWindowDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload .pageload-indicator::-webkit-progress-value {
	background-color: var(--clrArcAddressProgressBg);
}

/* Darker theme: Pageload text colors when addressbar si on top and  tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload {
	color: var(--clrArcTextDark);
}

/* Bookmark button */
.bookmark-animated-fill,
#browser.theme-dark .bookmark-animated-fill,
#browser.theme-dark.acc-dark .bookmark-animated-fill {
	fill: var(--colorFg);
}

/* Darker theme: Bookmark button when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .bookmark-animated-fill {
	fill: var(--clrArcTextDark);
}

/***********************************************************************
	SEARCHFIELD
***********************************************************************/
/* Dark/Darker themes: Searchfield input box */
#browser.theme-dark .UrlBar-SearchField,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField {
	background-color: var(--clrArcInputBg);
	border-color: var(--clrArcInputBorder);
}

#browser.theme-dark .UrlBar-SearchField:focus-within,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField:focus-within {
	border-color: var(--colorHighlightBg);
}

/* Darker theme: Searchfield text color when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField {
	color: var(--clrArcTextDark);
}

/***********************************************************************
	HEADER
***********************************************************************/
/* Background/border */
#browser:not(.tabs-top) #header {
	background-color: var(--clrArcWindowLight) !important;
	border-bottom: 1px solid var(--clrArcBorderLight) !important;
	box-shadow: none !important;
}

#browser.theme-dark:not(.tabs-top) #header,
#browser.theme-light.acc-dark:not(.tabs-top) #header {
	background-color: var(--clrArcWindowDark) !important;
	border-bottom: 1px solid var(--clrArcBorderDark) !important;
}

/* Page title color */
#browser:not(.tabs-top) #titlebar #pagetitle {
	color: var(--clrArcHeaderTextLight);
}

#browser.theme-dark:not(.tabs-top) #titlebar #pagetitle,
#browser.theme-light.acc-dark:not(.tabs-top) #titlebar #pagetitle {
	color: var(--clrArcHeaderTextDark);
}

/* Darker theme: Vivaldi menu button color */
#browser.theme-light.acc-dark:not(.tabs-top) .vivaldi {
	fill: var(--clrArcTextDark);
}

/***********************************************************************
	SETTINGS PAGE
***********************************************************************/
/* Background/border/color */
.vivaldi-settings .settings-sidebar {
	background-color: var(--clrArcSidebar);
	border-right: 1px solid var(--clrArcSidebar);
	box-shadow: none;
	color: var(--clrArcSidebarText);
}

#browser.theme-dark .vivaldi-settings .settings-sidebar {
	border-right: 1px solid var(--clrArcSidebarBorder);
}

.vivaldi-settings .settings-sidebar .button-category {
	fill: var(--clrArcSidebarText);
}

/* Hover button */
.vivaldi-settings .settings-sidebar .button-category:hover:not(.category-selected) {
	background: var(--clrArcSidebarHover);
}

/* Selected button */
.vivaldi-settings .settings-sidebar .button-category.category-selected {
	background-color: var(--colorHighlightBg);
	border-top-color: transparent;
	border-bottom-color: transparent;
	color: var(--clrArcSidebarTextActive);
	fill: var(--clrArcSidebarTextActive);
}

/* Focused button */
.vivaldi-settings .settings-sidebar .settings-navigation:focus-within .tree-row[data-selected] .button-category:not(:active) {
	background-color: var(--colorHighlightBg);
	border-color: transparent;
	box-shadow: none;
	color: var(--clrArcSidebarTextActive);
	fill: var(--clrArcSidebarTextActive);
}

/* Search field */
.vivaldi-settings .settings-sidebar .settings-navigation-header {
	padding: 15px 12px;
}

.settings-search {
	background-color: var(--clrArcInputBg);
	color: var(--clrArcTextDark);
}

.settings-search:not(:focus) {
	border-color: var(--clrArcInputBorder) !important;
}
