/***********************************************************************
	COLOR VARIABLES
***********************************************************************/
body {
	/* Arc-specific color variables */
	--clrArcWindowLight: #e7e8eb;
	--clrArcWindowDark: #2f343f;
	--clrArcBorderLight: #d4d5db;
	--clrArcBorderDark: #262a33;

	--clrArcHeaderTextLight: #525d76cc;
	--clrArcHeaderTextDark: #cfdae3cc;

	--clrArcSidebar: #353945;
	--clrArcSidebarBorder: #2a2d37;
	--clrArcSidebarText: #bac3cf;
	--clrArcSidebarTextActive: #ffffff;
	--clrArcSidebarHover: rgba(186, 195, 207, 0.15); /* #bac3cf */

	--clrArcInputBgDark: #404552;
	--clrArcInputBorderDark: #2b2e39;

	--clrArcToolbtnBgHoverLight: #ffffff;
	--clrArcToolbtnBorderHoverLight: #cfd6e6;
	--clrArcToolbtnBgHoverDark: #505666;
	--clrArcToolbtnBorderHoverDark: #2b2e39;
	--clrArcToolbtnBgActiveLight: var(--colorHighlightBg);
	--clrArcToolbtnBorderActiveLight: var(--colorHighlightBg);
	--clrArcToolbtnBgActiveDark: var(--colorHighlightBg);
	--clrArcToolbtnBorderActiveDark: #2b2e39;
	--clrArcToolbtnActiveText: #ffffff;

	/* Additional variables for Darker theme */
	--colorAccentBg_Darker: #dddee1;
	--colorAccentFg_Darker: #000000;
	--colorAccentFgFaded_Darker: #8c8c8e;
	--colorBgAlpha_Darker: #383c4acc;
	--colorBgIntenser_Darker: #242836;
	--colorFg_Darker: #d3dae3;
	--colorFgFaded_Darker: #c9d0d9;
	--colorFgFadedMost_Darker: #a7adb6;
	--colorFgIntense_Darker: #f9ffff;
}

/***********************************************************************
	TAB CONTAINER
***********************************************************************/
/* Background */
#tabs-tabbar-container,
#tabs-container {
	background-color: var(--clrArcWindowLight);
}

.theme-dark #tabs-tabbar-container,
.theme-dark #tabs-container {
	background-color: var(--clrArcWindowDark);
}

.theme-light.acc-dark #tabs-tabbar-container.top,
.theme-light.acc-dark #tabs-container.top {
	background-color: var(--clrArcWindowDark);
}

/* Border */
#tabs-tabbar-container.top {
	border-bottom: 1px solid var(--clrArcBorderLight) !important;
}

.theme-dark #tabs-tabbar-container.top,
.theme-light.acc-dark #tabs-tabbar-container.top {
	border-bottom: 1px solid var(--clrArcBorderDark) !important;
}

#tabs-tabbar-container.bottom {
	border-top: 1px solid var(--clrArcBorderLight) !important;
}

.theme-dark #tabs-tabbar-container.bottom {
	border-top: 1px solid var(--clrArcBorderDark) !important;
}

/* Darker theme: dark text/icon color when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom {
	color: var(--colorAccentFg_Darker);
}

.theme-light.acc-dark #tabs-container.bottom .newtab button,
.theme-light.acc-dark #tabs-container.bottom .toolbar-tabbar.sync-and-trash-container button {
	fill: var(--colorAccentFg_Darker);
}

/***********************************************************************
	TABS
***********************************************************************/
/* Tab title font + right fade */
.tab-position .tab .title {
	font-size: 13px;
	-webkit-mask-image: -webkit-linear-gradient(180deg, transparent 0px, transparent 6px, #fff 10px);
	margin-right: 0px;
}

/* Border around hover/active tab */
#tabs-container .tab-position .tab {
	border: 1px solid transparent;
}

#tabs-container .tab-position .tab:hover,
#tabs-container .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderLight);
}

.theme-dark #tabs-container .tab-position .tab:hover,
.theme-dark #tabs-container .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderDark);
}

.theme-light.acc-dark #tabs-container.top .tab-position .tab:hover,
.theme-light.acc-dark #tabs-container.top .tab-position .tab.active {
	border: 1px solid var(--clrArcBorderDark);
}

/* Ensure active tab is on top of tab strip border */
#tabs-container.top .tab-position .tab.active {
	border-bottom-color: var(--colorBg) !important;
}

#tabs-container.bottom .tab-position .tab.active {
	border-top-color: var(--colorBg) !important;
}

#tabs-container.top .tab-position .tab {
	margin-bottom: -1px;
}

#tabs-container.bottom .tab-position .tab {
	margin-top: -1px;
}

/* Darker theme: tab hover text color when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom .tab-position .tab:hover:not(.active) {
	color: var(--colorAccentFg_Darker);
}

/* Darker theme: tab progress indicator when tabs on bottom */
.theme-light.acc-dark #tabs-container.bottom .tab-position .tab .progress-indicator {
	background-color: var(--colorAccentFgFaded_Darker);
}

/* Dark/Darker theme: inactive tab hover color */
.theme-dark #tabs-container.top .tab-position .tab:hover:not(.active),
.theme-dark #tabs-container.bottom .tab-position .tab:hover:not(.active) {
	background-color: var(--colorBgAlpha);
}

.theme-light.acc-dark #tabs-container.top .tab-position .tab:hover:not(.active) {
	background-color: var(--colorBgAlpha_Darker);
}

/***********************************************************************
	ADDRESSBAR
***********************************************************************/
/* Merge addressbar on top with header if tabs are not on top */
#browser.address-top:not(.tabs-top) #main {
	margin-top: -25px;
}

#browser.address-top:not(.tabs-top) #titlebar {
	z-index: 1;
}

#browser.address-top:not(.tabs-top) .toolbar-mainbar.UrlBar {
	padding: 0 90px 0 40px;
}

#browser.alt.address-top:not(.tabs-top) .toolbar-mainbar.UrlBar {
	padding: 0 40px 0 90px;
}

#browser.address-top:not(.tabs-top) #titlebar #pagetitle {
	display: none;
}

/* Background: addressbar on top same color as header if tabs are not on top */
#browser.address-top:not(.tabs-top) .toolbar-mainbar {
	background: var(--clrArcWindowLight);
}

#browser.theme-dark.address-top:not(.tabs-top) .toolbar-mainbar,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar {
	background: var(--clrArcWindowDark);
}

/* Background: addressbar on bottom if tabs are not on bottom */
#browser.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	background-color: var(--clrArcWindowLight);
}

#browser.theme-dark.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	background-color: var(--clrArcWindowDark);
}

/* Border (addressbar on top) */
#browser.address-top .toolbar-mainbar:after {
	background-color: var(--clrArcBorderLight);
}

#browser.theme-dark.address-top .toolbar-mainbar:after {
	background-color: var(--clrArcBorderDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar:after {
	background-color: var(--clrArcBorderDark);
}

/* Border (addressbar on bottom) */
#browser.address-bottom .toolbar-mainbar {
	box-shadow: none;
}

#browser.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	box-shadow: none;
	border-top: 1px solid var(--clrArcBorderLight);
}

#browser.theme-dark.address-bottom:not(.tabs-bottom) .toolbar-mainbar {
	border-top: 1px solid var(--clrArcBorderDark);
}

#browser.address-bottom.tabs-bottom .toolbar-mainbar.UrlBar {
	box-shadow: none;
	border-top: 1px solid var(--clrArcBorderLight);
}

#browser.theme-dark.address-bottom.tabs-bottom .toolbar-mainbar.UrlBar {
	border-top: 1px solid var(--clrArcBorderDark);
}

/***********************************************************************
	ADDRESSFIELD
***********************************************************************/
/* Dark/Darker themes: Addressfield input box */
#browser.theme-dark .UrlBar-AddressField,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField {
	background-color: var(--clrArcInputBgDark);
	border-color: var(--clrArcInputBorderDark);
}

#browser.theme-dark .UrlBar-AddressField:focus-within,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField:focus-within {
	border-color: var(--colorHighlightBg);
}

/* Darker theme: Addressfield/URL text colors when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField {
	color: var(--colorFg_Darker);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlFragment-Wrapper--ShouldHighlight {
	--HighlightColor: var(--colorFgIntense_Darker);
	--LowlightColor: var(--colorFgFadedMost_Darker);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlFragment-Wrapper:not(.UrlFragment-Wrapper--ShouldHighlight) {
	--HighlightColor: var(--colorFgIntense_Darker);
	--LowlightColor: var(--colorFgIntense_Darker);
}

/* Darker theme: not secure site warning text */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .SiteInfoButton.warning {
	color: var(--colorFgFaded_Darker);
}

/* Darker theme: Pageload progressbar color */
#browser.theme-light.acc-dark .UrlBar-AddressField .pageload .pageload-indicator {
	background-color: var(--colorAccentBg_Darker);
}

/* Darker theme: Pageload progressbar color when addressbaris on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload .pageload-indicator {
	background-color: var(--clrArcWindowDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload .pageload-indicator::-webkit-progress-value {
	background-color: var(--colorBgIntenser_Darker);
}

/* Darker theme: Pageload text colors when addressbar is on top and  tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-AddressField .pageload {
	color: var(--colorFg_Darker);
}

/* Bookmark button */
.bookmark-animated-fill,
#browser.theme-dark .bookmark-animated-fill,
#browser.theme-dark.acc-dark .bookmark-animated-fill {
	fill: var(--colorFg);
}

/* Darker theme: Bookmark button when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .bookmark-animated-fill {
	fill: var(--colorFg_Darker);
}

/***********************************************************************
	SEARCHFIELD
***********************************************************************/
/* Dark/Darker themes: Searchfield input box */
#browser.theme-dark .UrlBar-SearchField,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField {
	background-color: var(--clrArcInputBgDark);
	border-color: var(--clrArcInputBorderDark);
}

#browser.theme-dark .UrlBar-SearchField:focus-within,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField:focus-within {
	border-color: var(--colorHighlightBg);
}

/* Darker theme: Searchfield text color when addressbar is on top and tabs are not on top */
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .UrlBar-SearchField {
	color: var(--colorFg_Darker);
}

/***********************************************************************
	HEADER
***********************************************************************/
/* Background/border */
#browser:not(.tabs-top) #header {
	background-color: var(--clrArcWindowLight) !important;
	border-bottom: 1px solid var(--clrArcBorderLight) !important;
	box-shadow: none !important;
}

#browser.theme-dark:not(.tabs-top) #header,
#browser.theme-light.acc-dark:not(.tabs-top) #header {
	background-color: var(--clrArcWindowDark) !important;
	border-bottom: 1px solid var(--clrArcBorderDark) !important;
}

/* Page title color */
#browser:not(.tabs-top) #titlebar #pagetitle {
	color: var(--clrArcHeaderTextLight);
}

#browser.theme-dark:not(.tabs-top) #titlebar #pagetitle,
#browser.theme-light.acc-dark:not(.tabs-top) #titlebar #pagetitle {
	color: var(--clrArcHeaderTextDark);
}

/* Darker theme: Vivaldi menu button color */
#browser.theme-light.acc-dark:not(.tabs-top) .vivaldi {
	fill: var(--colorFg_Darker);
}

/***********************************************************************
	PANEL
***********************************************************************/
/* Background */
#panel_switch,
#switch {
	background-color: var(--clrArcSidebar);
	box-shadow: none !important;
}

#panel_switch:hover {
	background-color: var(--clrArcSidebarHover);
}

/* Toggle arrow color */
#panel_switch svg polygon {
	fill: var(--clrArcSidebarText);
}

/* Buttons */
#switch > button,
#switch .addwebpanel-wrapper > button {
	box-shadow: none !important;
	border: none !important;
	color: var(--clrArcSidebarText);
	fill: var(--clrArcSidebarText);
}

#switch > button:hover:not(.active),
#switch .addwebpanel-wrapper > button:hover:not(.active) {
	background-color: var(--clrArcSidebarHover) !important;
}

#switch > button:focus:not(.active),
#switch .addwebpanel-wrapper > button:focus:not(.active) {
	background-color: var(--clrArcSidebarHover) !important;
}

#switch > button:active:not(.active),
#switch .addwebpanel-wrapper > button:active:not(.active) {
	background-color: var(--clrArcSidebarHover) !important;
}

#switch > button.active,
#switch > button.active:hover {
	background-color: var(--colorBgLightIntense) !important;
	color: var(--colorFgIntense);
	fill: var(--colorFgIntense);
}

/***********************************************************************
	SETTINGS PAGE
***********************************************************************/
/* Background/border/color */
.vivaldi-settings .settings-sidebar {
	background-color: var(--clrArcSidebar);
	border-left: 1px solid var(--clrArcSidebarBorder);
	border-right: 1px solid var(--clrArcSidebar);
	box-shadow: none;
	color: var(--clrArcSidebarText);
}

#browser.theme-dark .vivaldi-settings .settings-sidebar {
	border-right: 1px solid var(--clrArcSidebarBorder);
}

.vivaldi-settings .settings-sidebar .button-category {
	fill: var(--clrArcSidebarText);
}

/* Hover button */
.vivaldi-settings .settings-sidebar .button-category:hover:not(.category-selected) {
	background: var(--clrArcSidebarHover);
}

/* Selected button */
.vivaldi-settings .settings-sidebar .button-category.category-selected {
	background-color: var(--colorHighlightBg);
	border-top-color: transparent;
	border-bottom-color: transparent;
	color: var(--clrArcSidebarTextActive);
	fill: var(--clrArcSidebarTextActive);
}

/* Focused button */
.vivaldi-settings .settings-sidebar .settings-navigation:focus-within .tree-row[data-selected] .button-category:not(:active) {
	background-color: var(--colorHighlightBg);
	border-color: transparent;
	box-shadow: none;
	color: var(--clrArcSidebarTextActive);
	fill: var(--clrArcSidebarTextActive);
}

/* Search field */
.vivaldi-settings .settings-sidebar .settings-navigation-header {
	padding: 15px 12px;
}

.settings-search {
	background-color: var(--clrArcInputBgDark);
	color: var(--colorFg_Darker);
}

.settings-search:not(:focus) {
	border-color: var(--clrArcInputBorderDark) !important;
}

/***********************************************************************
	TOOLBAR BUTTONS
***********************************************************************/
.toolbar-mainbar > .button-toolbar > button,
.toolbar-mainbar > .toolbar-group > .button-toolbar > button,
.color-behind-tabs-on .bookmark-bar button {
	border: 1px solid transparent;
	border-radius: 2px;
	font-size: 1.1em;
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .button-toolbar > button,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .toolbar-group > .button-toolbar > button {
	color: var(--colorFg_Darker);
}

/* Hover */
.toolbar-mainbar > .button-toolbar > button:hover,
.toolbar-mainbar > .toolbar-group > .button-toolbar > button:hover,
.color-behind-tabs-on .bookmark-bar button:hover {
	background-color: var(--clrArcToolbtnBgHoverLight);
	border-color: var(--clrArcToolbtnBorderHoverLight);
}

#browser.theme-dark .toolbar-mainbar > .button-toolbar > button:hover,
#browser.theme-dark .toolbar-mainbar > .toolbar-group > .button-toolbar > button:hover,
#browser.theme-dark.color-behind-tabs-on .bookmark-bar button:hover {
	background-color: var(--clrArcToolbtnBgHoverDark);
	border-color: var(--clrArcToolbtnBorderHoverDark);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .button-toolbar > button:hover,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .toolbar-group > .button-toolbar > button:hover {
	background-color: var(--clrArcToolbtnBgHoverDark);
	border-color: var(--clrArcToolbtnBorderHoverDark);
}

/* Active */
.toolbar-mainbar > .button-toolbar > button:active,
.toolbar-mainbar > .toolbar-group > .button-toolbar > button:active,
.color-behind-tabs-on .bookmark-bar button:active {
	background-color: var(--clrArcToolbtnBgActiveLight);
	border-color: var(--clrArcToolbtnBorderActiveLight);
	color: var(--clrArcToolbtnActiveText);
}

#browser.theme-dark .toolbar-mainbar > .button-toolbar > button:active,
#browser.theme-dark .toolbar-mainbar > .toolbar-group > .button-toolbar > button:active,
#browser.theme-dark.color-behind-tabs-on .bookmark-bar button:active {
	background-color: var(--clrArcToolbtnBgActiveDark);
	border-color: var(--clrArcToolbtnBorderActiveDark);
	color: var(--clrArcToolbtnActiveText);
}

#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .button-toolbar > button:active,
#browser.theme-light.acc-dark.address-top:not(.tabs-top) .toolbar-mainbar > .toolbar-group > .button-toolbar > button:active {
	background-color: var(--clrArcToolbtnBgActiveDark);
	border-color: var(--clrArcToolbtnBorderActiveDark);
	color: var(--clrArcToolbtnActiveText);

}

/* Focus */
.color-behind-tabs-on .bookmark-bar button:focus {
	background-color: var(--clrArcToolbtnBgActiveLight);
	border-color: var(--clrArcToolbtnBorderActiveLight);
	color: var(--clrArcToolbtnActiveText);
}

#browser.theme-dark.color-behind-tabs-on .bookmark-bar button:focus {
	background-color: var(--clrArcToolbtnBgActiveDark);
	border-color: var(--clrArcToolbtnBorderActiveDark);
	color: var(--clrArcToolbtnActiveText);
}

/* Fix folder icon color on hover/active states */
.color-behind-tabs-on .bookmark-bar button:active svg.folder-icon .fill-override,
.color-behind-tabs-on .bookmark-bar button:focus svg.folder-icon .fill-override {
	fill: var(--clrArcToolbtnActiveText);
}

/* Remove highlight on bookmark toolbar separator hover */
.color-behind-tabs-on .bookmark-bar button:hover:not([title]),
.color-behind-tabs-on .bookmark-bar button:focus:not([title]) {
	background-color: transparent;
	border-color: transparent;
}

/* Hidden extension button background when expanded */
.color-behind-tabs-on .toolbar-mainbar > .button-toolbar > button.button-pressed,
.color-behind-tabs-on .toolbar-mainbar > .button-toolbar > button.button-pressed:active {
	background-image: none;
}
